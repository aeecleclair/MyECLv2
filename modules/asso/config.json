{
    "authorisation" : "#ecl",
    "description" : "Module d'asso",
    "heads" : {
		"styles" : [
			"static/asso.css"
		],
		"scripts" : [
			"static/asso.js"		
		]
	},
	"database" : [
        {
            "table" : "asso", 
            "schema" : {
                "id" : "INT PRIMARY KEY",
				"nom" : "VARCHAR(255)",
				"photo" : "TEXT",
				"group_id" : "INT",
				"galerie" : "INT",
                "description" : "TEXT",
                "facebook" : "TEXT",
                "mail" : "TEXT"
            }
        },
		{
			"table" : "asso_photos",
			"schema" : {
				"id" : "INT",
                "galerie_id" : "INT",
				"path" : "TEXT",
				"url" : "TEXT",
				"selected" : "VARCHAR(1)"
			}
		}
    ],
    "rules" : [
        {
            "route" : "/modules/asso/static/*",
            "static" : "static/"
        },
        {
            "body" : "main",
            "static" : "body/asso.html"
        },
        {
            "authorisation" : "JOIN user_group ON user_group.id = membership.id_group WHERE user_group.name = ?;",
            "body" : "edit_asso",
            "static" : "body/edit_asso.html"
        },
		{
			"route" : "/module/asso/data",
			"callback" : "main_cb"
		}
    ],
    "menu" : [
        {
            "name" : "Annuaire associatif",
            "body" : "main"
        }
    ]
}
